<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Editor de Texto Completo</title>
  <meta name="description" content="Editor de texto avan?ado com formata??o, tooltips, exporta??o e mais" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <span class="brand-mark">A?</span>
      <span class="brand-name">Editor Avan?ado</span>
    </div>
    <div class="actions">
      <button id="btn-new" class="btn" title="Novo (Ctrl+N)">Novo</button>
      <button id="btn-save" class="btn" title="Salvar localmente (Ctrl+S)">Salvar</button>
      <button id="btn-load" class="btn" title="Carregar local (Ctrl+O)">Carregar</button>
      <div class="dropdown">
        <button class="btn" id="btn-export">Exportar</button>
        <div class="dropdown-menu" id="menu-export">
          <button data-export="html">HTML</button>
          <button data-export="markdown">Markdown</button>
          <button data-export="pdf">PDF</button>
        </div>
      </div>
      <div class="dropdown">
        <button class="btn" id="btn-import">Importar</button>
        <div class="dropdown-menu" id="menu-import">
          <label class="file-input">
            <input id="file-import" type="file" accept=".html,.md,.markdown,.txt" />
            <span>Arquivo (.html/.md)</span>
          </label>
        </div>
      </div>
    </div>
  </header>

  <main class="app-main">
    <section class="toolbar" role="toolbar" aria-label="Ferramentas de formata??o">
      <div class="tool-group">
        <button data-cmd="undo" title="Desfazer (Ctrl+Z)">?</button>
        <button data-cmd="redo" title="Refazer (Ctrl+Y)">?</button>
        <button data-cmd="removeFormat" title="Limpar formata??o">?</button>
      </div>
      <div class="tool-group">
        <button data-cmd="bold" title="Negrito (Ctrl+B)"><strong>B</strong></button>
        <button data-cmd="italic" title="It?lico (Ctrl+I)"><em>I</em></button>
        <button data-cmd="underline" title="Sublinhado (Ctrl+U)"><span style="text-decoration:underline">U</span></button>
        <button data-cmd="strikeThrough" title="Tachado"><span style="text-decoration:line-through">S</span></button>
        <button data-cmd="superscript" title="Sobrescrito">x<sup>2</sup></button>
        <button data-cmd="subscript" title="Subscrito">x<sub>2</sub></button>
      </div>
      <div class="tool-group">
        <select id="block-format" title="Bloco">
          <option value="p">Par?grafo</option>
          <option value="h1">T?tulo 1</option>
          <option value="h2">T?tulo 2</option>
          <option value="h3">T?tulo 3</option>
          <option value="blockquote">Cita??o</option>
          <option value="pre">C?digo</option>
        </select>
        <button data-cmd="insertUnorderedList" title="Lista n?o ordenada">? Lista</button>
        <button data-cmd="insertOrderedList" title="Lista numerada">1. Lista</button>
        <button data-cmd="outdent" title="Recuar">?</button>
        <button data-cmd="indent" title="Avan?ar">?</button>
      </div>
      <div class="tool-group">
        <button data-cmd="justifyLeft" title="Alinhar ? esquerda">?</button>
        <button data-cmd="justifyCenter" title="Centralizar">?</button>
        <button data-cmd="justifyRight" title="Alinhar ? direita">?</button>
        <button data-cmd="justifyFull" title="Justificar">?</button>
      </div>
      <div class="tool-group">
        <label class="color-pick" title="Cor do texto">
          A
          <input type="color" id="text-color" />
        </label>
        <label class="color-pick" title="Cor de destaque">
          ?
          <input type="color" id="bg-color" />
        </label>
      </div>
      <div class="tool-group">
        <button id="btn-link" title="Inserir link (Ctrl+K)">Link</button>
        <button id="btn-image" title="Inserir imagem">Imagem</button>
        <button id="btn-table" title="Inserir tabela">Tabela</button>
        <button id="btn-tooltip" title="Inserir tooltip">Tooltip</button>
      </div>
      <div class="tool-group">
        <button id="btn-find" title="Localizar/Substituir (Ctrl+F)">Buscar</button>
        <span class="sep"></span>
        <span id="counter" aria-live="polite">0 palavras ? 0 caracteres</span>
      </div>
    </section>

    <section class="editor-wrap">
      <div id="editor" class="editor" contenteditable="true" aria-label="?rea de edi??o" spellcheck="true"></div>
    </section>

    <section id="find-panel" class="panel hidden" aria-hidden="true">
      <div class="panel-row">
        <label>Localizar</label>
        <input id="find-input" type="text" placeholder="Texto a localizar" />
        <button id="find-next">Pr?ximo</button>
        <button id="find-prev">Anterior</button>
      </div>
      <div class="panel-row">
        <label>Substituir</label>
        <input id="replace-input" type="text" placeholder="Substituir por" />
        <button id="replace-one">Substituir</button>
        <button id="replace-all">Tudo</button>
        <button id="find-close" class="ghost">Fechar</button>
      </div>
    </section>
  </main>

  <dialog id="modal-link">
    <form method="dialog" class="modal">
      <h3>Inserir/Editar Link</h3>
      <label>URL<input id="link-url" type="url" placeholder="https://..." required /></label>
      <label><input id="link-blank" type="checkbox" /> Abrir em nova aba</label>
      <menu>
        <button value="cancel" class="ghost">Cancelar</button>
        <button id="link-confirm" value="default">Aplicar</button>
      </menu>
    </form>
  </dialog>

  <dialog id="modal-image">
    <form method="dialog" class="modal">
      <h3>Inserir Imagem</h3>
      <label>URL da imagem<input id="image-url" type="url" placeholder="https://..." /></label>
      <div class="or">ou</div>
      <label class="file-input">
        <input id="image-file" type="file" accept="image/*" />
        <span>Selecionar arquivo</span>
      </label>
      <label>Texto alternativo<input id="image-alt" type="text" placeholder="Descri??o da imagem" /></label>
      <menu>
        <button value="cancel" class="ghost">Cancelar</button>
        <button id="image-confirm" value="default">Inserir</button>
      </menu>
    </form>
  </dialog>

  <dialog id="modal-table">
    <form method="dialog" class="modal">
      <h3>Inserir Tabela</h3>
      <div class="grid-2">
        <label>Linhas<input id="table-rows" type="number" min="1" max="20" value="2" /></label>
        <label>Colunas<input id="table-cols" type="number" min="1" max="20" value="2" /></label>
      </div>
      <menu>
        <button value="cancel" class="ghost">Cancelar</button>
        <button id="table-confirm" value="default">Inserir</button>
      </menu>
    </form>
  </dialog>

  <dialog id="modal-tooltip">
    <form method="dialog" class="modal">
      <h3>Inserir Tooltip</h3>
      <label>Texto do tooltip<input id="tooltip-text" type="text" placeholder="Dica ao passar o mouse" required /></label>
      <menu>
        <button value="cancel" class="ghost">Cancelar</button>
        <button id="tooltip-confirm" value="default">Aplicar</button>
      </menu>
    </form>
  </dialog>

  <footer class="app-footer">
    <span>Dicas: Ctrl+B/I/U ? Ctrl+K (link) ? Ctrl+F (buscar) ? Ctrl+S (salvar)</span>
  </footer>

  <!-- Libs para export/import -->
  <script src="https://cdn.jsdelivr.net/npm/turndown@7.1.2/dist/turndown.js" integrity="sha384-8vG0vW1y4SgD0pP+sW9cF9wHg0y8kty3gGQ3lI1YdmQd4PXg3gXn6G3tP2aH1Gue" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js" integrity="sha384-c9C4R5m7Bf7dTprV8+J3R0f/1o8e3Yl2CjZQye9kq2yG7S8mMc4y8a8oGv8h8G5Z" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js" integrity="sha384-fc3QpABxD1Y3YQ1pQ/2QyP3W4L0e0m5sT0F6p9n3e2V5pX9rB2J9f4qK3pJ8d2qR" crossorigin="anonymous"></script>
  <script src="app.js"></script>
</body>
</html>
